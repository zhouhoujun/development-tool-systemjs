"use strict";var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},__decorate=this&&this.__decorate||function(e,t,r,n){var o,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(c<3?o(i):c>3?o(t,r,i):o(t,r))||i);return c>3&&i&&Object.defineProperty(t,r,i),i},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},development_core_1=require("development-core"),htmlreplace=require("gulp-html-replace"),url=require("url"),IndexBundle=function(e){function t(t){var r=e.call(this,t)||this;return r.name="mainindex",r}return __extends(t,e),t.prototype.source=function(e,t,r){var n,o=e.option;return n=o.index?o.index:"src/index.html",r.src(e.toRootSrc(n))},t.prototype.pipes=function(e,t,r){var n=e.option,o=e.getPackage(),c=[function(e){return htmlreplace({js:url.resolve(e.toStr(n.baseURL),e.toStr(n.mainfile))+"?bust="+(e.toStr(n.bust)||o.version)})}];return n.indexPipes&&n.indexPipes.length>0&&(c=c.concat(n.indexPipes)),c},t}(development_core_1.PipeTask);IndexBundle=__decorate([development_core_1.task({order:1,oper:development_core_1.Operation.release|development_core_1.Operation.deploy}),__metadata("design:paramtypes",[Object])],IndexBundle),exports.IndexBundle=IndexBundle;
//# sourceMappingURL=sourcemaps/IndexBundle.js.map
